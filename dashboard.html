<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planno ‚Äî Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,400&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="dashboard.css">
</head>
<body>

<button class="mobile-toggle" onclick="toggleSidebar()">
  <svg viewBox="0 0 24 24"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>

<!-- SIDEBAR -->
<nav class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <div class="logo-mark">P</div>
    <div class="logo-text">Planno</div>
  </div>

  <div class="user-pill" onclick="navigateTo('settings')">
    <div class="user-avatar" id="userAvatar">U</div>
    <div class="user-details">
      <div class="user-name" id="userName">Loading‚Ä¶</div>
      <div class="user-role" id="userRole">‚Äî</div>
    </div>
  </div>

  <div class="nav-area">
    <div class="nav-group-label">Main</div>
    <div class="nav-item active" data-section="overview">
      <span class="nav-icon"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/></svg></span>
      <span>Overview</span>
    </div>
    <div class="nav-item" data-section="projects">
      <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg></span>
      <span>Projects</span>
    </div>
    <div class="nav-item" data-section="analytics">
      <span class="nav-icon"><svg viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg></span>
      <span>Analytics</span>
    </div>
    <div class="nav-item" data-section="calendar">
      <span class="nav-icon"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></span>
      <span>Calendar</span>
    </div>

    <div class="nav-group-label">Workspace</div>
    <div class="nav-item" data-section="team">
      <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></span>
      <span>Team</span>
    </div>
    <div class="nav-item" data-section="documents">
      <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></span>
      <span>Documents</span>
    </div>
    <div class="nav-item" data-section="activity">
      <span class="nav-icon"><svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></span>
      <span>Activity</span>
    </div>

    <div class="nav-group-label">Account</div>
    <div class="nav-item" data-section="settings">
      <span class="nav-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg></span>
      <span>Settings</span>
    </div>
  </div>

  <div class="sidebar-footer">
    <button class="logout-btn" onclick="logout()">
      <svg viewBox="0 0 24 24" style="width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
      Sign Out
    </button>
  </div>
</nav>

<!-- MAIN -->
<div class="main" id="main">

  <!-- TOPBAR -->
  <div class="topbar">
    <div class="search-wrap">
      <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      <input class="search-input" id="searchInput" placeholder="Search projects, tasks, members‚Ä¶">
    </div>

    <div class="topbar-right">
      <div class="icon-action" style="position:relative;" onclick="toggleNotifDropdown()">
        <svg viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
        <div class="notif-badge" id="notifBadge" style="display:none;">0</div>

        <div class="notif-dropdown" id="notifDropdown">
          <div class="notif-head">
            <div class="notif-head-title">Notifications</div>
            <div class="notif-actions">
              <button class="notif-action-btn" onclick="markAllRead();event.stopPropagation();">Mark read</button>
              <button class="notif-action-btn" onclick="clearNotifs();event.stopPropagation();">Clear</button>
            </div>
          </div>
          <div class="notif-list" id="notifList"></div>
        </div>
      </div>

      <div class="icon-action" onclick="openProjectModal()">
        <svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
      </div>
    </div>
  </div>

  <div class="content">

    <!-- OVERVIEW -->
    <div id="overview" class="section active">
      <div class="page-header">
        <div class="page-header-left">
          <div class="page-title">Overview</div>
          <div class="page-sub" id="greetingLine">Welcome back</div>
        </div>
        <div class="page-actions">
          <span style="font-size:13px;color:var(--text3);" id="currentDate"></span>
          <button class="btn btn-secondary" onclick="openTaskModal()">Quick Task</button>
          <button class="btn btn-primary" onclick="openProjectModal()">+ New Project</button>
        </div>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon blue">üìÅ</div>
          <div class="stat-label">Active Projects</div>
          <div class="stat-value" id="activeCount">0</div>
          <div class="stat-sub">In progress</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon purple">‚úì</div>
          <div class="stat-label">Total Tasks</div>
          <div class="stat-value" id="totalTasks">0</div>
          <div class="stat-sub">Across all projects</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon teal">üéØ</div>
          <div class="stat-label">Completed</div>
          <div class="stat-value" id="doneTasks">0</div>
          <div class="stat-sub">Tasks finished</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon orange">üìà</div>
          <div class="stat-label">Completion Rate</div>
          <div class="stat-value" id="completionRate">0%</div>
          <div class="stat-sub">Overall progress</div>
        </div>
      </div>

      <div class="section-label">Recent Projects</div>
      <div class="projects-grid" id="overviewProjects"></div>
    </div>

    <!-- PROJECTS -->
    <div id="projects" class="section">
      <div class="page-header">
        <div class="page-header-left">
          <div class="page-title">Projects</div>
          <div class="page-sub">Manage your project portfolio</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-ghost" onclick="filterProjects('all')">All</button>
          <button class="btn btn-ghost" onclick="filterProjects('active')">Active</button>
          <button class="btn btn-ghost" onclick="filterProjects('pending')">Pending</button>
          <button class="btn btn-ghost" onclick="filterProjects('completed')">Completed</button>
          <button class="btn btn-primary" onclick="openProjectModal()">+ New Project</button>
        </div>
      </div>
      <div class="projects-grid" id="projectsList"></div>
    </div>

    <!-- ANALYTICS -->
    <div id="analytics" class="section">
      <div class="page-header">
        <div class="page-header-left">
          <div class="page-title">Analytics</div>
          <div class="page-sub">Performance insights and trends</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-ghost">Last 7 Days</button>
          <button class="btn btn-ghost">Last 30 Days</button>
          <button class="btn btn-primary">Export</button>
        </div>
      </div>

      <div class="stats-grid" style="margin-bottom:20px;">
        <div class="stat-card">
          <div class="stat-label">Projects This Month</div>
          <div class="stat-value" id="monthProjects">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Tasks Completed</div>
          <div class="stat-value" id="monthTasks">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Avg Completion</div>
          <div class="stat-value" id="avgTime">3d</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Productivity Score</div>
          <div class="stat-value" id="prodScore">0</div>
        </div>
      </div>

      <div class="charts-grid">
        <div class="chart-card">
          <div class="chart-title">Task Completion Trend</div>
          <div class="chart-canvas"><canvas id="taskChart"></canvas></div>
        </div>
        <div class="chart-card">
          <div class="chart-title">Projects by Status</div>
          <div class="chart-canvas"><canvas id="projectChart"></canvas></div>
        </div>
      </div>

      <div class="chart-card">
        <div class="chart-title">Priority Distribution</div>
        <div class="chart-canvas"><canvas id="priorityChart"></canvas></div>
      </div>
    </div>

    <!-- CALENDAR -->
    <div id="calendar" class="section">
      <div class="page-header">
        <div class="page-header-left">
          <div class="page-title">Calendar</div>
          <div class="page-sub">View deadlines and schedules</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-ghost" onclick="calToday()">Today</button>
          <button class="btn btn-primary" onclick="openTaskModal()">Add Event</button>
        </div>
      </div>

      <div class="cal-wrap">
        <div class="cal-head">
          <div class="cal-title" id="calTitle">‚Äî</div>
          <div class="cal-nav">
            <button class="cal-btn" onclick="prevMonth()">‚Üê Prev</button>
            <button class="cal-btn" onclick="nextMonth()">Next ‚Üí</button>
          </div>
        </div>

        <div class="cal-grid">
          <div class="cal-day-header">Sun</div>
          <div class="cal-day-header">Mon</div>
          <div class="cal-day-header">Tue</div>
          <div class="cal-day-header">Wed</div>
          <div class="cal-day-header">Thu</div>
          <div class="cal-day-header">Fri</div>
          <div class="cal-day-header">Sat</div>
          <div id="calDays" style="display:contents;"></div>
        </div>

        <div class="cal-events-section">
          <div class="section-label" style="margin-bottom:12px;">Upcoming Deadlines</div>
          <div id="upcomingDeadlines"></div>
        </div>
      </div>
    </div>

    <!-- TEAM -->
    <div id="team" class="section">
      <div class="page-header">
        <div class="page-header-left">
          <div class="page-title">Team</div>
          <div class="page-sub">Manage members and collaboration</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-primary" onclick="openTeamModal()">+ Add Member</button>
        </div>
      </div>
      <div class="team-grid" id="teamGrid"></div>
    </div>

    <!-- DOCUMENTS -->
    <div id="documents" class="section">
      <div class="page-header">
        <div class="page-header-left">
          <div class="page-title">Documents</div>
          <div class="page-sub">Files and resources</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-ghost">Recent</button>
          <button class="btn btn-primary">Upload</button>
        </div>
      </div>
      <div class="docs-grid" id="docsGrid"></div>
    </div>

    <!-- ACTIVITY -->
    <div id="activity" class="section">
      <div class="page-header">
        <div class="page-header-left">
          <div class="page-title">Activity Feed</div>
          <div class="page-sub">Recent updates and changes</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-ghost">Filter</button>
        </div>
      </div>
      <div class="activity-wrap" id="activityFeed"></div>
    </div>

    <!-- SETTINGS -->
    <div id="settings" class="section">
      <div class="page-header">
        <div class="page-header-left">
          <div class="page-title">Settings</div>
          <div class="page-sub">Manage your account and preferences</div>
        </div>
      </div>

      <div class="settings-layout">
        <!-- Nav -->
        <div class="settings-nav">
          <div class="settings-nav-item active" onclick="showSettingsTab('profile')">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M20 21a8 8 0 1 0-16 0"/></svg>
            Profile
          </div>
          <div class="settings-nav-item" onclick="showSettingsTab('notifications')">
            <svg viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
            Notifications
          </div>
          <div class="settings-nav-item" onclick="showSettingsTab('appearance')">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><path d="M2 12h20"/></svg>
            Appearance
          </div>
          <div class="settings-nav-item" onclick="showSettingsTab('security')">
            <svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
            Security
          </div>
          <div class="settings-nav-item" onclick="showSettingsTab('keyboard')">
            <svg viewBox="0 0 24 24"><rect x="2" y="6" width="20" height="12" rx="2"/><path d="M6 10h.01M10 10h.01M14 10h.01M18 10h.01M8 14h8"/></svg>
            Shortcuts
          </div>
          <div class="settings-nav-item" onclick="showSettingsTab('integrations')">
            <svg viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
            Integrations
          </div>
          <div class="settings-nav-item" onclick="showSettingsTab('data')">
            <svg viewBox="0 0 24 24"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>
            Data & Privacy
          </div>
        </div>

        <!-- Panels -->
        <div class="settings-content">

          <!-- PROFILE -->
          <div class="settings-section active" id="st-profile">
            <div class="settings-section-title">Profile Information</div>
            <div class="settings-section-sub">Update your personal details and public profile.</div>

            <div class="avatar-editor">
              <div class="avatar-large" id="settingsAvatar">U</div>
              <div class="avatar-actions">
                <button class="btn btn-secondary" style="font-size:12px;padding:7px 14px;">Upload Photo</button>
                <button class="btn btn-ghost" style="font-size:12px;padding:7px 14px;">Remove</button>
              </div>
            </div>

            <div class="field-row">
              <div class="field">
                <label>First Name</label>
                <input type="text" id="stFirstName" placeholder="Jane">
              </div>
              <div class="field">
                <label>Last Name</label>
                <input type="text" id="stLastName" placeholder="Smith">
              </div>
            </div>

            <div class="field">
              <label>Email Address</label>
              <input type="email" id="stEmail" placeholder="you@company.com">
            </div>

            <div class="field">
              <label>Company</label>
              <input type="text" id="stCompany" placeholder="Acme Inc.">
            </div>

            <div class="field">
              <label>Job Title</label>
              <input type="text" id="stJobTitle" placeholder="e.g. Senior Project Manager">
            </div>

            <div class="field">
              <label>Role</label>
              <select id="stRole">
                <option value="manager">Project Manager</option>
                <option value="developer">Developer</option>
                <option value="designer">Designer</option>
                <option value="analyst">Business Analyst</option>
                <option value="executive">Executive</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="field">
              <label>Bio</label>
              <textarea id="stBio" rows="3" placeholder="Tell your team a bit about yourself‚Ä¶"></textarea>
            </div>

            <div class="field">
              <label>Timezone</label>
              <select id="stTimezone">
                <option value="UTC">UTC</option>
                <option value="EST">Eastern Time (EST)</option>
                <option value="CST">Central Time (CST)</option>
                <option value="PST">Pacific Time (PST)</option>
                <option value="GMT">Greenwich Mean Time (GMT)</option>
                <option value="CET">Central European Time (CET)</option>
              </select>
            </div>

            <button class="btn btn-primary" onclick="saveProfile()">Save Profile</button>
          </div>

          <!-- NOTIFICATIONS -->
          <div class="settings-section" id="st-notifications">
            <div class="settings-section-title">Notification Preferences</div>
            <div class="settings-section-sub">Control when and how you receive notifications.</div>

            <div class="section-label" style="margin-bottom:8px;font-size:13px;">Email Notifications</div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Task assignments</div>
                <div class="toggle-desc">Get notified when you're assigned a task</div>
              </div>
              <label class="toggle"><input type="checkbox" checked id="notif-task-assign"><div class="toggle-track"></div></label>
            </div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Task completions</div>
                <div class="toggle-desc">When team members complete tasks</div>
              </div>
              <label class="toggle"><input type="checkbox" checked id="notif-task-done"><div class="toggle-track"></div></label>
            </div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Project updates</div>
                <div class="toggle-desc">Status changes and new milestones</div>
              </div>
              <label class="toggle"><input type="checkbox" checked id="notif-project"><div class="toggle-track"></div></label>
            </div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Deadline reminders</div>
                <div class="toggle-desc">24 hours before a task is due</div>
              </div>
              <label class="toggle"><input type="checkbox" checked id="notif-deadline"><div class="toggle-track"></div></label>
            </div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Team member activity</div>
                <div class="toggle-desc">When members join or leave projects</div>
              </div>
              <label class="toggle"><input type="checkbox" id="notif-team"><div class="toggle-track"></div></label>
            </div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Weekly summary</div>
                <div class="toggle-desc">A digest of the week's activity</div>
              </div>
              <label class="toggle"><input type="checkbox" checked id="notif-weekly"><div class="toggle-track"></div></label>
            </div>

            <div class="settings-divider"></div>
            <div class="section-label" style="margin-bottom:8px;font-size:13px;">In-App Notifications</div>

            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Sound alerts</div>
                <div class="toggle-desc">Play a sound for new notifications</div>
              </div>
              <label class="toggle"><input type="checkbox" id="notif-sound"><div class="toggle-track"></div></label>
            </div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Desktop notifications</div>
                <div class="toggle-desc">Show browser push notifications</div>
              </div>
              <label class="toggle"><input type="checkbox" id="notif-desktop"><div class="toggle-track"></div></label>
            </div>

            <div style="margin-top:20px;">
              <button class="btn btn-primary" onclick="saveNotifPrefs()">Save Preferences</button>
            </div>
          </div>

          <!-- APPEARANCE -->
          <div class="settings-section" id="st-appearance">
            <div class="settings-section-title">Appearance</div>
            <div class="settings-section-sub">Customize how Planno looks for you.</div>

            <div class="section-label" style="font-size:13px;margin-bottom:10px;">Color Theme</div>
            <div class="theme-grid">
              <div class="theme-option selected" onclick="selectTheme(this,'dark')">
                <div class="theme-option-icon">üåë</div>
                Dark (Default)
              </div>
              <div class="theme-option" onclick="selectTheme(this,'light')">
                <div class="theme-option-icon">‚òÄÔ∏è</div>
                Light
              </div>
              <div class="theme-option" onclick="selectTheme(this,'system')">
                <div class="theme-option-icon">üíª</div>
                System
              </div>
            </div>

            <div class="settings-divider"></div>
            <div class="section-label" style="font-size:13px;margin-bottom:10px;">Accent Color</div>
            <div class="color-picker">
              <div class="color-swatch selected" style="background:#4f7eff;" onclick="selectAccent(this,'#4f7eff','#7c5cfc')" title="Blue"></div>
              <div class="color-swatch" style="background:#00d4aa;" onclick="selectAccent(this,'#00d4aa','#00b89a')" title="Teal"></div>
              <div class="color-swatch" style="background:#f5a623;" onclick="selectAccent(this,'#f5a623','#e08c10')" title="Orange"></div>
              <div class="color-swatch" style="background:#ff4f6a;" onclick="selectAccent(this,'#ff4f6a','#cc3355')" title="Red"></div>
              <div class="color-swatch" style="background:#a855f7;" onclick="selectAccent(this,'#a855f7','#7c3aed')" title="Purple"></div>
              <div class="color-swatch" style="background:#ec4899;" onclick="selectAccent(this,'#ec4899','#be185d')" title="Pink"></div>
            </div>

            <div class="settings-divider"></div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Compact mode</div>
                <div class="toggle-desc">Reduce spacing to show more content</div>
              </div>
              <label class="toggle"><input type="checkbox" id="compactMode"><div class="toggle-track"></div></label>
            </div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Animations</div>
                <div class="toggle-desc">Enable smooth transitions and effects</div>
              </div>
              <label class="toggle"><input type="checkbox" checked id="animationsToggle"><div class="toggle-track"></div></label>
            </div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Show avatars</div>
                <div class="toggle-desc">Display member avatars in task lists</div>
              </div>
              <label class="toggle"><input type="checkbox" checked id="showAvatars"><div class="toggle-track"></div></label>
            </div>

            <div style="margin-top:20px;">
              <button class="btn btn-primary" onclick="saveAppearance()">Save Appearance</button>
            </div>
          </div>

          <!-- SECURITY -->
          <div class="settings-section" id="st-security">
            <div class="settings-section-title">Security</div>
            <div class="settings-section-sub">Keep your account safe and secure.</div>

            <div class="field">
              <label>Current Password</label>
              <input type="password" id="curPass" placeholder="Enter current password">
            </div>
            <div class="field">
              <label>New Password</label>
              <input type="password" id="newPass" placeholder="At least 8 characters">
            </div>
            <div class="field">
              <label>Confirm New Password</label>
              <input type="password" id="confirmPass" placeholder="Repeat new password">
            </div>

            <button class="btn btn-primary" onclick="changePassword()">Update Password</button>

            <div class="settings-divider"></div>
            <div class="section-label" style="font-size:13px;margin-bottom:12px;">Two-Factor Authentication</div>

            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Enable 2FA</div>
                <div class="toggle-desc">Require a code from your authenticator app at login</div>
              </div>
              <label class="toggle"><input type="checkbox" id="twoFA"><div class="toggle-track"></div></label>
            </div>

            <div class="settings-divider"></div>
            <div class="section-label" style="font-size:13px;margin-bottom:12px;">Active Sessions</div>

            <div style="background:var(--ink4);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:12px;">
              <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
                <div>
                  <div style="font-size:13px;font-weight:500;color:var(--text);margin-bottom:3px;">Current Session <span style="background:rgba(0,212,170,0.15);color:var(--accent3);font-size:10px;padding:2px 7px;border-radius:8px;margin-left:6px;">Active</span></div>
                  <div style="font-size:11px;color:var(--text3);">Chrome on Windows ¬∑ Tirana, AL</div>
                </div>
                <button class="btn btn-ghost" style="font-size:11px;padding:6px 12px;">Revoke</button>
              </div>
            </div>

            <button class="btn btn-danger" onclick="if(confirm('Sign out all other sessions?'))alert('Done.');">Sign Out All Other Sessions</button>
          </div>

          <!-- KEYBOARD -->
          <div class="settings-section" id="st-keyboard">
            <div class="settings-section-title">Keyboard Shortcuts</div>
            <div class="settings-section-sub">Speed up your workflow with these shortcuts.</div>

            <div class="keyboard-shortcut"><div class="shortcut-name">New Project</div><div class="keys"><div class="key">‚åò</div><div class="key">N</div></div></div>
            <div class="keyboard-shortcut"><div class="shortcut-name">Quick Task</div><div class="keys"><div class="key">‚åò</div><div class="key">T</div></div></div>
            <div class="keyboard-shortcut"><div class="shortcut-name">Search</div><div class="keys"><div class="key">‚åò</div><div class="key">K</div></div></div>
            <div class="keyboard-shortcut"><div class="shortcut-name">Go to Overview</div><div class="keys"><div class="key">G</div><div class="key">O</div></div></div>
            <div class="keyboard-shortcut"><div class="shortcut-name">Go to Projects</div><div class="keys"><div class="key">G</div><div class="key">P</div></div></div>
            <div class="keyboard-shortcut"><div class="shortcut-name">Go to Calendar</div><div class="keys"><div class="key">G</div><div class="key">C</div></div></div>
            <div class="keyboard-shortcut"><div class="shortcut-name">Go to Settings</div><div class="keys"><div class="key">G</div><div class="key">S</div></div></div>
            <div class="keyboard-shortcut"><div class="shortcut-name">Close Modal</div><div class="keys"><div class="key">Esc</div></div></div>
            <div class="keyboard-shortcut"><div class="shortcut-name">Toggle Sidebar</div><div class="keys"><div class="key">‚åò</div><div class="key">B</div></div></div>
          </div>

          <!-- INTEGRATIONS -->
          <div class="settings-section" id="st-integrations">
            <div class="settings-section-title">Integrations</div>
            <div class="settings-section-sub">Connect your favorite tools to Planno.</div>

            <div style="display:flex;flex-direction:column;gap:12px;">
              <div style="background:var(--ink4);border:1px solid var(--border);border-radius:12px;padding:16px;display:flex;align-items:center;gap:14px;">
                <div style="width:40px;height:40px;background:#fff;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;">
                  <svg width="22" height="22" viewBox="0 0 18 18"><path d="M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 002.38-5.88c0-.57-.05-.66-.15-1.18z" fill="#4285F4"/><path d="M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 01-7.18-2.54H1.83v2.07A8 8 0 008.98 17z" fill="#34A853"/><path d="M4.5 10.52a4.8 4.8 0 010-3.04V5.41H1.83a8 8 0 000 7.18l2.67-2.07z" fill="#FBBC05"/><path d="M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 001.83 5.4L4.5 7.49a4.77 4.77 0 014.48-3.31z" fill="#EA4335"/></svg>
                </div>
                <div style="flex:1;">
                  <div style="font-size:14px;font-weight:600;color:var(--text);margin-bottom:2px;">Google Workspace</div>
                  <div style="font-size:12px;color:var(--text3);">Sync calendar, drive, and meet</div>
                </div>
                <button class="btn btn-secondary" style="font-size:12px;">Connect</button>
              </div>

              <div style="background:var(--ink4);border:1px solid var(--border);border-radius:12px;padding:16px;display:flex;align-items:center;gap:14px;">
                <div style="width:40px;height:40px;background:#4A154B;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;">üí¨</div>
                <div style="flex:1;">
                  <div style="font-size:14px;font-weight:600;color:var(--text);margin-bottom:2px;">Slack</div>
                  <div style="font-size:12px;color:var(--text3);">Receive task notifications in Slack channels</div>
                </div>
                <button class="btn btn-secondary" style="font-size:12px;">Connect</button>
              </div>

              <div style="background:var(--ink4);border:1px solid var(--border);border-radius:12px;padding:16px;display:flex;align-items:center;gap:14px;">
                <div style="width:40px;height:40px;background:#0078D4;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;">üìò</div>
                <div style="flex:1;">
                  <div style="font-size:14px;font-weight:600;color:var(--text);margin-bottom:2px;">Microsoft Teams</div>
                  <div style="font-size:12px;color:var(--text3);">Collaborate directly from Teams</div>
                </div>
                <button class="btn btn-secondary" style="font-size:12px;">Connect</button>
              </div>

              <div style="background:var(--ink4);border:1px solid var(--border);border-radius:12px;padding:16px;display:flex;align-items:center;gap:14px;">
                <div style="width:40px;height:40px;background:#000;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;">üêô</div>
                <div style="flex:1;">
                  <div style="font-size:14px;font-weight:600;color:var(--text);margin-bottom:2px;">GitHub</div>
                  <div style="font-size:12px;color:var(--text3);">Link commits and PRs to tasks</div>
                </div>
                <button class="btn btn-secondary" style="font-size:12px;">Connect</button>
              </div>

              <div style="background:var(--ink4);border:1px solid var(--border);border-radius:12px;padding:16px;display:flex;align-items:center;gap:14px;">
                <div style="width:40px;height:40px;background:#0052CC;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;">üîµ</div>
                <div style="flex:1;">
                  <div style="font-size:14px;font-weight:600;color:var(--text);margin-bottom:2px;">Jira</div>
                  <div style="font-size:12px;color:var(--text3);">Import and sync Jira issues</div>
                </div>
                <button class="btn btn-secondary" style="font-size:12px;">Connect</button>
              </div>
            </div>
          </div>

          <!-- DATA & PRIVACY -->
          <div class="settings-section" id="st-data">
            <div class="settings-section-title">Data & Privacy</div>
            <div class="settings-section-sub">Control your data and privacy settings.</div>

            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Usage analytics</div>
                <div class="toggle-desc">Help improve Planno by sharing anonymous usage data</div>
              </div>
              <label class="toggle"><input type="checkbox" checked id="analyticsConsent"><div class="toggle-track"></div></label>
            </div>
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Marketing emails</div>
                <div class="toggle-desc">Receive product news and feature announcements</div>
              </div>
              <label class="toggle"><input type="checkbox" id="marketingEmails"><div class="toggle-track"></div></label>
            </div>

            <div class="settings-divider"></div>
            <div class="section-label" style="font-size:13px;margin-bottom:12px;">Data Management</div>

            <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:24px;">
              <button class="btn btn-secondary" onclick="exportData()">Export My Data</button>
              <button class="btn btn-ghost">Request Data Deletion</button>
            </div>

            <div class="danger-zone">
              <div class="danger-zone-title">‚ö† Danger Zone</div>
              <div class="danger-zone-desc">These actions are permanent and cannot be undone.</div>
              <button class="btn btn-danger" onclick="if(confirm('Delete all projects and tasks? This cannot be undone.')) clearAllData();">Delete All Data</button>
            </div>
          </div>

        </div><!-- /.settings-content -->
      </div><!-- /.settings-layout -->
    </div><!-- /#settings -->

  </div><!-- /.content -->
</div><!-- /.main -->

<!-- ===== MODALS ===== -->

<!-- Project Modal -->
<div class="modal-overlay" id="projectModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title-wrap">
        <div class="modal-icon blue">üìÅ</div>
        <div class="modal-title" id="projectModalTitle">New Project</div>
      </div>
      <button class="modal-close" onclick="closeModal('projectModal')">√ó</button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="projectId">
      <div class="field">
        <label>Project Name *</label>
        <input type="text" id="projectName" placeholder="e.g. Website Redesign">
      </div>
      <div class="field">
        <label>Description</label>
        <textarea id="projectDesc" placeholder="Brief overview of the project‚Ä¶"></textarea>
      </div>
      <div class="field-row">
        <div class="field">
          <label>Status</label>
          <select id="projectStatus">
            <option value="active">Active</option>
            <option value="pending">Pending</option>
            <option value="completed">Completed</option>
          </select>
        </div>
        <div class="field">
          <label>Deadline</label>
          <input type="date" id="projectDeadline">
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('projectModal')">Cancel</button>
      <button class="btn btn-primary" onclick="saveProject()">Save Project</button>
    </div>
  </div>
</div>

<!-- Project Details Modal -->
<div class="modal-overlay" id="projectDetailsModal">
  <div class="modal wide">
    <div class="modal-header">
      <div class="modal-title-wrap">
        <div class="modal-icon purple">üìã</div>
        <div class="modal-title" id="detailsTitle">Project Details</div>
      </div>
      <button class="modal-close" onclick="closeModal('projectDetailsModal')">√ó</button>
    </div>
    <div class="modal-body">
      <div class="detail-grid">
        <div class="detail-card">
          <div class="detail-card-label">Status</div>
          <div class="detail-card-val" id="detailStatus"></div>
        </div>
        <div class="detail-card">
          <div class="detail-card-label">Deadline</div>
          <div class="detail-card-val" id="detailDeadline"></div>
        </div>
        <div class="detail-card">
          <div class="detail-card-label">Progress</div>
          <div class="detail-card-val" id="detailProgress"></div>
        </div>
        <div class="detail-card">
          <div class="detail-card-label">Tasks</div>
          <div class="detail-card-val" id="detailTasks"></div>
        </div>
      </div>

      <div id="detailDesc" style="font-size:13px;color:var(--text2);margin-bottom:20px;padding:14px;background:var(--ink4);border:1px solid var(--border);border-radius:10px;line-height:1.6;"></div>

      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;">
        <div class="section-label" style="margin:0;">Tasks</div>
        <button class="btn btn-primary" onclick="openTaskModal()">+ Add Task</button>
      </div>
      <div class="task-list" id="detailTaskList"></div>
    </div>
    <div class="modal-footer">
      <div class="modal-footer-left">
        <button class="btn btn-danger" onclick="deleteProject()">Delete Project</button>
      </div>
      <button class="btn btn-ghost" onclick="closeModal('projectDetailsModal')">Close</button>
      <button class="btn btn-secondary" onclick="openEditProject()">Edit Project</button>
    </div>
  </div>
</div>

<!-- Task Modal -->
<div class="modal-overlay" id="taskModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title-wrap">
        <div class="modal-icon teal">‚úì</div>
        <div class="modal-title" id="taskModalTitle">New Task</div>
      </div>
      <button class="modal-close" onclick="closeModal('taskModal')">√ó</button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="taskId">
      <div class="field">
        <label>Task Title *</label>
        <input type="text" id="taskTitle" placeholder="What needs to be done?">
      </div>
      <div class="field">
        <label>Description</label>
        <textarea id="taskDesc" placeholder="Additional details‚Ä¶"></textarea>
      </div>
      <div class="field-row">
        <div class="field">
          <label>Priority</label>
          <select id="taskPriority">
            <option value="low">Low</option>
            <option value="medium" selected>Medium</option>
            <option value="high">High</option>
          </select>
        </div>
        <div class="field">
          <label>Due Date</label>
          <input type="date" id="taskDue">
        </div>
      </div>
      <div class="field">
        <label>Assign To</label>
        <select id="taskAssignee">
          <option value="">Unassigned</option>
        </select>
      </div>
      <div class="field">
        <label>Attachments</label>
        <div class="file-drop" id="fileDrop">
          <div class="file-drop-icon">üìé</div>
          <div class="file-drop-text">Drop files here or click to browse</div>
          <div class="file-drop-hint">PDF, DOC, XLS, Images ‚Äî max 10MB each</div>
          <input type="file" id="fileInput" multiple style="display:none;" accept=".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.gif">
        </div>
        <div class="file-list" id="fileList"></div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('taskModal')">Cancel</button>
      <button class="btn btn-primary" onclick="saveTask()">Save Task</button>
    </div>
  </div>
</div>

<!-- Team Member Modal -->
<div class="modal-overlay" id="teamModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title-wrap">
        <div class="modal-icon blue">üë§</div>
        <div class="modal-title">Add Team Member</div>
      </div>
      <button class="modal-close" onclick="closeModal('teamModal')">√ó</button>
    </div>
    <div class="modal-body">
      <div class="field-row">
        <div class="field"><label>First Name *</label><input type="text" id="memberFirst" placeholder="Jane"></div>
        <div class="field"><label>Last Name *</label><input type="text" id="memberLast" placeholder="Smith"></div>
      </div>
      <div class="field">
        <label>Email *</label>
        <input type="email" id="memberEmail" placeholder="jane@company.com">
      </div>
      <div class="field">
        <label>Role</label>
        <select id="memberRole">
          <option>Developer</option>
          <option>Designer</option>
          <option>Project Manager</option>
          <option>Business Analyst</option>
          <option>QA Engineer</option>
          <option>Team Lead</option>
          <option>Other</option>
        </select>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('teamModal')">Cancel</button>
      <button class="btn btn-primary" onclick="saveMember()">Add Member</button>
    </div>
  </div>
</div>
<script src="dashboard.js"></script>

</body>
</html>
